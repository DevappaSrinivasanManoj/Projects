*A/B testing*

1) If the given data-sets has more than 30 values a z-test can be used. Also, if only sample_mean, population_mean, 
population and sample std dev along with confidence level is given, we can use this. Mainly z-test is not suitable for 
AB testing as t-test and z-test gives the same output when sample size is more.

2) If either one of them have less than 30 values then we have to use a t-test. This can be 2-sample t-test(left, right and 2-tailed).

3) We also have a paired sample t-test, which can be left, right and 2 tailed. This is when we have to check for the same sample before and after
some trial.

4) Anova if we have to test for more than 2 groups. This would make it ABC testing and is not in scope for this API.

5) Shapiro Wilk's test to check if the data is normal. If normal then we use t-test for 2 different groups. If not we use K-W test.

6) Shapiro Wilk's test to check if the data is normal. If normal we use the paired t-test for the same group with different trials. If not we use
Wilcoxon Signed-Rank test.



Based on the above, below is the sequence.

1) If the data array given has more than 1000 elements, then randomly pick 1000 elements from it and perform a Shapiro-Wilk's test. If not perform the Shapiro-Wilk's test for all the elements in the dataset. Do this for both the arrays A and B.

2) Check if the data is a paired set or an unpaired set, i.e. belong to different groups or same group. This should be given by the user.

3) If both of them are normal and belong to different group then perform a t-test. 

4) If the datasets are statistically different, perform a right tailed t-test, to determine which set is higher by first checking with both the below 
combinations.
t_statistic, p_value = ttest_ind(sample_data1, sample_data2, alternative='greater')
t_statistic, p_value = ttest_ind(sample_data2, sample_data1, alternative='greater')
And then display the p-value and conclusions accordingly.

5) If both of them are not normal and belong to different group then perform a K-W test. Here, we just stop and say the datasets are statistically same or not. We do not go ahead to check which is high or low as K-W test does not have a right or left tailed test combo.

6) If both of them are normal and belong to the same group then perform a paired t-test. 

7) If the datasets are statistically different, perform a right tailed paired t-test, to determine which set is higher by first checking with both the below 
combinations.
t_stat, p_value = stats.ttest_rel(before, after, alternative="less")
t_stat, p_value = stats.ttest_rel(after, before, alternative="less")
And then display the p-value and conclusions accordingly.


8) If both of them are not normal and belong to the same group then perform a Wilcoxon Signed-Rank test. Here, we just stop and say the datasets are statistically same or not. We do not go ahead to check which is high or low as Wilcoxon Signed-Rank test does not have a right or left tailed test combo.



The best test for the given datasets is : {{test_name}}
The test statistic value is : {{value}}
The p-value is : {{p_value}}
The alpha given by you is : {{alpha}}
As p-value is less than alpha, we can conclude that the datasets are statistically different. (in case of K-W and Wilcoxon Signed-Rank test)
As p-value is greater than alpha, we can conclude that the datasets are statistically same. (in case of K-W, Wilcoxon Signed-Rank test and 2 tailed t-test and two tailed paired t-test)
As p-value is less than alpha, we can conclude that the datasets are statistically different and sample_data1 is greater than sample_data2(or the other way based on the result) [in case of t-test or paired t-test which in turn will run the right or left tailed test]


sample_data1 = [95,95,95,95,95,95,85,75,105,10005]
sample_data2 = [25] * 20

Two-Sample Right-Tailed T-Test Results:
T-Statistic: 1.5386353190160604
P-Value: 0.06755949882770282
Reject Null Hypothesis: False


for a right tailed test(This is same for just the t-test as well i.e. for a 2 tailed t-test as well) the above says sample_data1 and sample_data2 are not different



sample_data1 = [95,95,95,95,95,95,85,75,105]
sample_data2 = [25] * 20

Two-Sample Right-Tailed T-Test Results:
T-Statistic: 37.22568634878249
P-Value: 4.815358500350117e-25
Reject Null Hypothesis: True

but for the above data the same test says they are different. This is because adding 10005 makes the data not normal.
And that is the reason we need to perform a Shapiro-wilk's and confirm if data is normal or not and then decide whether to pick t-test or 
K-W test.




